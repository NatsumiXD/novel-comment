import{d as k,c as S,o as h,an as I,_ as y}from"./chunks/framework.v-3SKfDB.js";const x=JSON.parse('{"title":"阅读设置","description":"","frontmatter":{"layout":"doc","title":"阅读设置"},"headers":[],"relativePath":"settings.md","filePath":"settings.md"}'),B={name:"settings.md"},C=k({...B,setup(T){const f="reading_prompt_enabled",p="last_read",d="reader_font",s="reader_font_size",n=(t,e,o=-1)=>{const a=new Date;a.setTime(a.getTime()+o*24*60*60*1e3),document.cookie=`${t}=${encodeURIComponent(e)}; path=/; expires=${a.toUTCString()}`},i=t=>{const e=document.cookie.match(new RegExp("(?:^|; )"+t.replace(/([.$?*|{}()\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},u=()=>document.cookie.split(";").map(t=>t.trim().split("=")[0]),v=t=>{document.documentElement.dataset.font=t,n(d,t,365)},_=t=>{document.documentElement.dataset.fontSize=t,n(s,t,365)},g=()=>{const t=i(d)||"sans",e=i(s)||"medium";document.documentElement.dataset.font=t,document.documentElement.dataset.fontSize=e;const o=document.getElementById("font-select"),a=document.getElementById("font-size-select");o&&(o.value=t),a&&(a.value=e)},l=t=>{localStorage.setItem(f,String(t)),alert(t?"已开启提示":"已关闭提示")},E=()=>{n(p,"",-1),alert("已清除上次阅读记录")},b=()=>{u().forEach(e=>{n(e,"",-1)}),alert("已清除所有 Cookie")};return typeof window<"u"&&setTimeout(()=>{const t=document.getElementById("enable-prompt"),e=document.getElementById("disable-prompt"),o=document.getElementById("clear-history"),a=document.getElementById("clear-all-cookies"),r=document.getElementById("font-select"),m=document.getElementById("font-size-select");t?.addEventListener("click",()=>l(!0)),e?.addEventListener("click",()=>l(!1)),o?.addEventListener("click",()=>E()),a?.addEventListener("click",()=>b()),r?.addEventListener("change",()=>{const c=r.value;v(c)}),m?.addEventListener("change",()=>{const c=m.value;_(c)}),g()},0),(t,e)=>(h(),S("div",null,[...e[0]||(e[0]=[I("",6)])]))}}),A=y(C,[["__scopeId","data-v-f1cc6ada"]]);export{x as __pageData,A as default};
